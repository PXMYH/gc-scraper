<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US Green Card Processing Time</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .workflow-time {
            font-size: 18px;
            color: #0366d6;
        }
    </style>
</head>
<body>
    <h1>US Green Card Processing Time</h1>

    <!-- Add the "i485" section above the graph -->
    <section>
        <h2>i485</h2>
        <!-- Embed the image within the HTML using the <img> tag -->
        <img src="visa_bulletin_plot.png" alt="Visa Bulletin Plot" width="400">
    </section>

    <!-- Add the "PERM" section before the displayed time -->
    <section>
        <h2>PERM</h2>
        <p class="workflow-time" id="time"></p>
    </section>
    
    <script>
        // Function to fetch and display time from perm_time.txt
        async function displayTime() {
            try {
                const response = await fetch('perm_time.txt');
                const text = await response.text();
                const lines = text.trim().split('\n');
                if (lines.length >= 2) {
                    const time = lines[1].trim();
                    document.getElementById('time').textContent = time;
                }
            } catch (error) {
                console.error('Error fetching and displaying time:', error);
            }
        }

        // Call the function to display time
        displayTime();
    </script>
</body>
</html>
